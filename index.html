<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>DARTing-Around by bazscott</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>DARTing-Around</h1>
          <h2>Developer Diary</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/bazscott/DARTing-Around/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/bazscott/DARTing-Around/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/bazscott/DARTing-Around" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <p>Welcome to the DARTing-Around Developer Diary!</p>

<p>Want to beta test this? Of course you do but spaces are very limited! Contact me and I'll arrange it if I can. It'll make it easier if you have an account with Hockey App.</p>

<p>If you want to watch the progress of this app in the style of tickets - I'm using GitHub Issues to track the detail of the work so have a look over there.</p>

<h3>
<a name="day-1--day" class="anchor" href="#day-1--day"><span class="octicon octicon-link"></span></a>Day 1 / Day</h3>

<p>This thing started on 14 October 2013 when I asked on Twitter if there were any good apps for getting train times for the Dublin DART trains. <a href="https://twitter.com/ncremins">@ncremins</a>, <a href="https://twitter.com/adamkmccarthy">@adamkmccarthy</a>, <a href="https://twitter.com/oisin">@oisin</a> and I then had a discussion about the fact that there wasn't (that we were aware of) but that an API did exist. Oisin has actually done some work on this with a <a href="https://github.com/oisin/ierail">ruby wrapper for the API</a></p>

<p>This is the documentation for the API itself: <a href="http://api.irishrail.ie/realtime/">Irish Rail Realtime API</a></p>

<p>So during the day I thought I'd have a go at this, and that I would document the process for everyone to see. So, hi :)</p>

<h3>
<a name="day-1--night" class="anchor" href="#day-1--night"><span class="octicon octicon-link"></span></a>Day 1 / Night</h3>

<p>I got started at night on this app and had a basic app talking to the Irish Rail server via their API within an hour or so. The only tricky part was that the server thinks it's 1998 so is using XML. I haven't parsed XML for years so had to go back and find out how to do that.</p>

<p>There are a few other things I want to achieve with this project that I am also going to use it for so I started on those too:</p>

<ul>
<li>Learn Cocoapods (I know Ruby pretty well, so this is fairly easy)</li>
<li>Use autolayout, properly this time!</li>
<li>Run this through the new Continuous Integration setup on Xcode 5 and Mac OS X Server</li>
<li>Set up Mixpanel properly for stats (that will come later)</li>
</ul><p>I CANNOT work on app without a name and a logo, so I had to spend an hour coming up with these too, I went to the hotel bar and did this over dinner. They may well change but they'll do for now :) By the end of the night "DARTing Around" was running and pulling in station data. It even displayed the station name on the detail screen if you tapped on a table cell. Good start but I had a new series of The Walking Dead to get started on so the rest will have to wait until tomorrow.</p>

<h3>
<a name="day-2--tuesday-night" class="anchor" href="#day-2--tuesday-night"><span class="octicon octicon-link"></span></a>Day 2 / Tuesday Night</h3>

<p>I'm working in the hotel bar tonight as it's the last night of World Cup qualifiers. I'd say this should be very productive!</p>

<p>Well, that wasn't too productive. Spent two hours on the parser, mostly trying to get dates to parse - they won't, they just refuse. So there are no dates in the app now. Tough shit if you wanted dates, you can't have them.</p>

<p>However, journeys now parse correctly and if I can get a table cell formatted tomorrow to show when the trains are due at your station that will constitute a minimum viable product that people can test with. yay!</p>

<h3>
<a name="day-3--thursday-night" class="anchor" href="#day-3--thursday-night"><span class="octicon octicon-link"></span></a>Day 3 / Thursday Night</h3>

<p>Tonight I was mostly dealing with admin things - getting the build to work as cocoapods was interfering with archive builds took a bit of time unfortunately. Still not convinced about cocoapods! Provisioning and setting up Hockey App always takes longer than it should :) And I had to create individual icons for alpa, beta, and live builds - very important that step. Finally I updated the previous wiki pages in to this page and moved the To Dos in to GitHub issues</p>

<p>In terms of code I got through this stuff:</p>

<ul>
<li>Train and Journey models were created</li>
<li>The station model was updated to conform to NSCoding</li>
<li>Stations array is now cached "on disk" and only updated once per day for speedy startup</li>
<li>Implemented pull to refresh on Stations list</li>
<li>I made the Journey (detail) screen look better with a custom table cell on the detail table</li>
<li>Added pull to refresh to the detail screen</li>
<li>Put in a control to allow the user to chose Northbound, Southbound or All trains</li>
</ul>

<p>And finally at 11:15 the first build went out to testers, yay \o/</p>

<p>I'm heading home to spend time with my family for the weekend so nothing else will be done on this until Monday. I'm happy with that weeks work though - probably 8-10 hours in total and the app is useable. Next up is adding cool features.</p>


<h3>
<a name="day-4--monday-night" class="anchor" href="#day-4--monday-night"><span class="octicon octicon-link"></span></a>Day 4 / Monday Night</h3>

<p>I tried to work for an hour on the train this morning but that didn't go far as I was having compilation problems! But tonight I fixed that and moved on to a few fun things:</p>

<ul>
<li>Made some auto-layout fixes so rotation should work, but it's not perfect yet as I'm still getting some cryptic errors in the logs about layout.</li>
<li>The journeys screen was crashing quite a bit due to empty arrays or malformed XML, so I have tightened this up a bit (not enough).</li>
<li>I fade some interface elements in and out such as the North/South/All selector to make the app flow a bit better.</li>
<li>The biggest new feature is favourites. You can set a station as a favourite and it will now apear at the top of the main stations list.</li>
<li>Finally I put a nice little element in to the journeys screen which is that the age of the data is now shown on the pull-to-refresh area. It's shown in nice language too e.g. 3 minutes ago.</li>
</ul>

<p>I'm going out tomorrow night so this will be the last build for a couple of days. Next up I'm thinking of either the full data screen showing all the data about a journey; or the feature to show which trains you can make if it takes you X minutes to walk to the station.</p>


<h3>
<a name="day-5--wednesday-night" class="anchor" href="#day-5--wednesday-night"><span class="octicon octicon-link"></span></a>Day 5 / Wednesday Night</h3>

<p>I had a couple of hours to work on a big new feature tonight: the "Can Oisin squeeze in a beer?" feature. The intention of this is that you enter how long it will take you to get to the train station and the table of results updates to show which trains you can/can't make.</p>

<p>I managed to get this working but it is not working as well as I would like. It does the basics but it is a little clunky. For example: If you say it will take you 10 minutes to walk to the train and then look at the app again in five minutes the timer should now show five minutes to get there, not 10. So tomorrow night I'll try to get all that kind of functionality in there.</p>

<!--
<h3>
<a name="day-6--thursday-night" class="anchor" href="#day-6--thursday-night"><span class="octicon octicon-link"></span></a>Day 6 / Thursday Night</h3>

<p></p>

<ul>
<li></li>
</ul>

<p></p>
-->






        </section>

        <footer>
          DARTing-Around is maintained by <a href="https://github.com/bazscott">bazscott</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

                  <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-35438089-5");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

      </div>
    </div>
  </body>
</html>
